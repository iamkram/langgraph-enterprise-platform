graph TB
    subgraph "Client Layer"
        UI[React UI<br/>React 19 + TypeScript]
        Wizard[5-Step Wizard]
        Templates[Templates Gallery]
        TestDialog[Test Run Dialog]
        Analytics[Analytics Dashboard]
    end
    
    subgraph "API Layer"
        Gateway[tRPC API Gateway<br/>Type-safe RPC]
        OAuth[OAuth Handler<br/>Manus Auth]
    end
    
    subgraph "Business Logic"
        AgentCRUD[Agent CRUD API]
        CodeGen[Code Generation Engine<br/>LangGraph Templates]
        Execution[Execution API<br/>Agent Runtime]
        Approval[Approval Workflow<br/>Jira Integration]
        Schedule[Schedule Manager<br/>Cron Jobs]
    end
    
    subgraph "Data Layer"
        MySQL[(MySQL/TiDB<br/>Agent Configs)]
        S3[S3 Storage<br/>Generated Code]
    end
    
    subgraph "External Services"
        LLM[LLM API<br/>GPT-4o]
        Jira[Jira API<br/>Approval Tickets]
    end
    
    UI --> Gateway
    Wizard --> Gateway
    Templates --> Gateway
    TestDialog --> Gateway
    Analytics --> Gateway
    
    Gateway --> OAuth
    Gateway --> AgentCRUD
    Gateway --> CodeGen
    Gateway --> Execution
    Gateway --> Approval
    Gateway --> Schedule
    
    AgentCRUD --> MySQL
    CodeGen --> MySQL
    CodeGen --> S3
    Execution --> MySQL
    Execution --> LLM
    Approval --> MySQL
    Approval --> Jira
    Schedule --> MySQL
    Schedule --> Execution
    
    style UI fill:#3b82f6,color:#fff
    style Gateway fill:#8b5cf6,color:#fff
    style AgentCRUD fill:#10b981,color:#fff
    style MySQL fill:#f59e0b,color:#fff
    style LLM fill:#ef4444,color:#fff
